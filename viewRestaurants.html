<!doctype html>
<html>
    <head>
    <script src="https://cdn.firebase.com/v0/firebase.js"></script>
     <link rel="stylesheet" type="text/css" href="css/waitTime.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
        <script src="js/waitTime.js"></script>
    </head>
    <body>
        <div id="title">Search or select a company from below</div>
	<div id='companyInfo'></div>
<input type='text' id='search' placeholder='Search Company Name'>

<button  type="button" id="submit">Search company</button>
<div id="companyInformation"></div>

<script>

	$('#submit').click(function (e) {
		var search = $('#search').val().toLowerCase();
		var companyInfo = new Firebase('https://waitTime.firebaseio.com/companylist/');
	
		//var companyInfo = new Firebase('https://waitTime.firebaseio.com/companylist/'+search+'/');
		console.log(companyInfo);
		
		companyInfo.on('value', function (snapshot) {
			db = snapshot.val();
			console.log(db);	
			if(db === null) {
			    alert('Company does not exist.');
			  } 
			  else 
			  {
                  for (var key in db) {
                      console.log("asdf");
                        if (db.hasOwnProperty(key)) {
                                alert(key + " -> " + db[key]);
                                  }
                  }
  				$('<div/>').text(db.name).prepend($('<em/>')
      				.text(db.est+': ')).appendTo($('#companyInformation'));
			  }
			 });
	});
</script>       
    </body>
</html>
